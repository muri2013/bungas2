<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Jdonw the game</title>
  <style>
    body {
      margin: 0;
      background: #222;
      color: purple;
      font-family: sans-serif;
      text-align: center;
    }

    canvas {
      display: block;
      margin: 20px auto;
      background: #87ceeb;
      border: 3px solid white;
    }
  </style>
</head>
<body>
  <h1>Pontuação: <span id="score">0</span></h1>
  <canvas id="game" width="600" height="400"></canvas>

  <script>
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");
    const scoreEl = document.getElementById("score");

    let score = 0;
    const numPessoas = 5;
    const pessoas = [];
    const imagemPessoa = new Image();
    imagemPessoa.src = "pessoa.png";

    function gerarPessoas() {
      pessoas.length = 0;
      for (let i = 0; i < numPessoas; i++) {
        pessoas.push({
          x: Math.random() * (canvas.width - 60),
          y: Math.random() * (canvas.height - 60),
          size: 60
        });
      }
    }

    function desenharPessoas() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for (let p of pessoas) {
        ctx.drawImage(imagemPessoa, p.x, p.y, p.size, p.size);
      }
    }

    canvas.addEventListener("click", function(e) {
      const rect = canvas.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;

      for (let i = 0; i < pessoas.length; i++) {
        const p = pessoas[i];
        if (
          x >= p.x &&
          x <= p.x + p.size &&
          y >= p.y &&
          y <= p.y + p.size
        ) {
          score++;
          scoreEl.textContent = score;
          pessoas.splice(i, 1); // remove a pessoa clicada
          break;
        }
      }

      if (pessoas.length === 0) {
        gerarPessoas();
      }

      desenharPessoas();
    });

    // espera carregar a imagem pra desenhar
    imagemPessoa.onload = () => {
      gerarPessoas();
      desenharPessoas();
    };
  </script>
</body>
</html>


